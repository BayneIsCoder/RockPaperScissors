<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
    <style>
        /* [All your existing styles here ‚Äî unchanged] */

        /* Additional style for small email text */
        #displayEmail {
            color: #555;
            font-size: 0.85em;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>üéÆ Rock Paper Scissors</h1>
        
        <!-- Profile Setup Screen -->
        <div id="profileSetup" class="profile-setup">
            <h2>Welcome! Create Your Profile</h2>
            <p style="margin-bottom: 20px;">Enter your name and email to save your game stats</p>
            <input type="text" id="playerName" placeholder="Enter your name" maxlength="20"><br>
            <input type="email" id="playerEmail" placeholder="Enter your email" maxlength="50"><br>
            <button onclick="createProfile()">Start Playing</button>
        </div>

        <!-- Main Game Area -->
        <div id="mainGame" class="hidden">
            <!-- Player Info -->
            <div class="player-info">
                <h3>üë§ <span id="displayName"></span></h3>
                <small id="displayEmail"></small>
                <div class="stats">
                    <div>
                        <div>Total Games</div>
                        <div class="stat-value" id="totalGames">0</div>
                    </div>
                    <div>
                        <div>Total Wins</div>
                        <div class="stat-value" id="totalWins">0</div>
                    </div>
                    <div>
                        <div>Total Losses</div>
                        <div class="stat-value" id="totalLosses">0</div>
                    </div>
                    <div>
                        <div>Win Rate</div>
                        <div class="stat-value" id="winRate">0%</div>
                    </div>
                </div>
                <button class="reset-profile" onclick="logOut()">Log Out</button>
            </div>

            <!-- [Game content continues below...] -->
            <!-- (No changes required to the rest of your HTML from this point) -->

        </div>
    </div>

    <script>
        let userWins = 0;
        let robotWins = 0;
        let currentRound = 1;
        let robotChoice = 0;
        let playerProfile = null;

        const choices = {
            1: { name: 'Rock', emoji: 'ü™®' },
            2: { name: 'Paper', emoji: 'üìÑ' },
            3: { name: 'Scissors', emoji: '‚úÇÔ∏è' }
        };

        function setCookie(name, value, years) {
            const date = new Date();
            date.setTime(date.getTime() + (years * 365 * 24 * 60 * 60 * 1000));
            const expires = "expires=" + date.toUTCString();
            document.cookie = name + "=" + JSON.stringify(value) + ";" + expires + ";path=/";
        }

        function getCookie(name) {
            const nameEQ = name + "=";
            const ca = document.cookie.split(';');
            for(let i = 0; i < ca.length; i++) {
                let c = ca[i];
                while (c.charAt(0) === ' ') c = c.substring(1, c.length);
                if (c.indexOf(nameEQ) === 0) {
                    return JSON.parse(c.substring(nameEQ.length, c.length));
                }
            }
            return null;
        }

        function deleteCookie(name) {
            document.cookie = name + "=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
        }

        window.onload = function() {
            playerProfile = getCookie('rpsProfile');
            if (playerProfile) {
                document.getElementById('profileSetup').classList.add('hidden');
                document.getElementById('mainGame').classList.remove('hidden');
                updateProfileDisplay();
            }
        };

        function createProfile() {
            const playerName = document.getElementById('playerName').value.trim();
            const playerEmail = document.getElementById('playerEmail').value.trim();

            if (!playerName || !playerEmail) {
                alert('Please enter both name and email!');
                return;
            }

            playerProfile = {
                name: playerName,
                email: playerEmail,
                totalGames: 0,
                totalWins: 0,
                totalLosses: 0,
                joinDate: new Date().toISOString()
            };

            setCookie('rpsProfile', playerProfile, 999);

            document.getElementById('profileSetup').classList.add('hidden');
            document.getElementById('mainGame').classList.remove('hidden');
            updateProfileDisplay();
        }

        function updateProfileDisplay() {
            if (!playerProfile) return;

            document.getElementById('displayName').textContent = playerProfile.name;
            document.getElementById('displayEmail').textContent = playerProfile.email || '';
            document.getElementById('totalGames').textContent = playerProfile.totalGames;
            document.getElementById('totalWins').textContent = playerProfile.totalWins;
            document.getElementById('totalLosses').textContent = playerProfile.totalLosses;

            const winRate = playerProfile.totalGames > 0 
                ? Math.round((playerProfile.totalWins / playerProfile.totalGames) * 100) 
                : 0;
            document.getElementById('winRate').textContent = winRate + '%';
        }

        // [Keep all other game functions unchanged ‚Äî playGame, nextRound, showGameOver, newGame, etc.]
    </script>
</body>
</html>
